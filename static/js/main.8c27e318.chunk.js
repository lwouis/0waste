(this.webpackJsonp0waste=this.webpackJsonp0waste||[]).push([[0],{38:function(e){e.exports=JSON.parse('{"Item":"\u9805\u76ee","Expires in":"\u3042\u3068","Expiration date":"\u6d88\u8cbb\u671f\u9650"}')},53:function(e,a,t){},55:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),i=t.n(o),p=(t(53),t(4)),c=t.n(p),l=t(14),s=t(9),u=(t(55),t(33)),d=t(19),b=t(38),m=t(18),h=t.n(m),f=["en","ja"];function g(){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(c.a.mark((function e(){var a,t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===(a=navigator.languages.find((function(e){return f.some((function(a){return e.startsWith(a)}))})))||void 0===a?void 0:a.substring(0,2),n=t||f[0],e.next=4,u.a.use(d.e).init({lng:n,parseMissingKeyHandler:function(e){return e},resources:{ja:{translation:b}},react:{useSuspense:!1},interpolation:{escapeValue:!1}});case 4:return Object(m.addLocale)("ja",{firstDayOfWeek:1,dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5\u66dc","\u6708\u66dc","\u706b\u66dc","\u6c34\u66dc","\u6728\u66dc","\u91d1\u66dc","\u571f\u66dc"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],today:"\u4eca\u65e5",dateFormat:"yy/mm/dd"}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,a){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(c.a.mark((function e(a,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(m.locale)(a),e.next=3,u.a.changeLanguage(a);case 3:return e.next=5,t.preferences.update(0,{locale:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=t(2),w=t(7),O=t(6),S=function(e){Object(w.a)(t,e);var a=Object(O.a)(t);function t(){var e;return Object(x.a)(this,t),(e=a.call(this,"0waste")).items=void 0,e.preferences=void 0,e.version(1).stores({items:"\n        ++id,\n        name,\n        expirationDate",preferences:"\n        id"}),e}return t}(t(30).default);function C(e){var a=new S;return a.on("populate",(function(){return a.preferences.add({id:0,locale:e})})),a.open(),a}var k=t(41),B=t(24),R=t(42),P=t(31),G=t(43),D=t(32),N=t(78),L=["Acorn squash","Adjuma pepper","Aji dulce pepper","Aleppo pepper","Almond","Anaheim pepper","Apricot","Arugula","Asian pear","Asparagus","Atrichoke","Banana pepper","Barley","Basil","Beet","Belgian endive","Bibb lettuce","Bing cherry","Birds eye chili","Bishops crown pepper","Black habanero","Black prince tomato","Black salsify","Blackberry","Blue lake bean","Blue oyster","Blueberry","Bok choy","Borage","Brazilian starfish pepper","Broad bean","Broccoli","Brussel sprout","Butternut squash","California poppy","Cannabis","Cantaloupe","Carrot","Cascabel chili","Cauliflower","Cayenne pepper","Celeriac root","Celery","Chamomile","Chantrelle","Cheongyang pepper","Cherokee purple tomato","Cherry bell radish","Cherry stuffer pepper","Cherry tomato","Chile de aborol pepper","Cilantro","Cinnamon cap","Claytonia","Collard greens","Corn","Cotton","Cremini","Cubanelle pepper","Cucumber","Curly endive","Curly kale","Dandelion","Datil pepper","Delicata squash","Diablito pepper","Dill","Dundicut pepper","Echinacea","Eggplant","Facing heaven pepper","Fatilii pepper","Fennel","French breakfast radish","Fresno pepper","Fuji apple","Gala apple","Galangal","Garlic","Garlic chive","Generic apple","Generic flower","Generic melon","Generic mushroom","Generic plant","German chamomile","Ghost pepper","Ginger","Golden beet","Golden delicious apple","Granny smith apple","Green anjou pear","Green bartlett pear","Green bell pepper","Green birds eye chili","Green cabbage","Green onion","Green serrano pepper","Green tabasco pepper","Green zebra tomato","Guajillo pepper","Habanero pepper","Hemp","Hillbilly tomato","Honeydew","Hop","Hungarian wax pepper","Iceberg","Icicle radish","Indigo","Jalapeno","Japanese yam","Kabocha squash","Kholrabi","Lacianto kale","Lavender","Leek","Lemon balm","Lemon drop pepper","Lemon verbena","Lemongrass","Lima bean","Lions mane","Loose leaf lettuce","Lovage","Madame jeanette pepper","Majoram","Malagueta pepper","Marshmallow","Medusa pepper","Mint","Money tree","Mugwort","Napa cabbage","Nectratine","Oat","Okra","Onion chive","Orange bell pepper","Orange scotch bonnet","Oregano","Ornamental gourd","Parsley","Parsnip","Pattypan squash","Peach","Peanut","Peppadew pepper","Pequin pepper","Peter pepper","Pimento pepper","Pineapple tomato","Pink oyster","Plantain","Plum","Poblano pepper","Pointed cabbage","Porcino","Portabello","Psilocybin","Pumpkin","Purple carrot","Purple cauliflower","Purple pod bean","Purple potato","Radicchio","Rainbow chard","Rainier cherry","Raspberry","Red anjou pear","Red bartlett pear","Red bell pepper","Red cabbage","Red carrot","Red chard","Red curly kale","Red giant mustard","Red gold potato","Red kuri squash","Red onion","Red pointed cabbage","Red russian kale","Red savina pepper","Red scotch bonnet","Red serrano pepper","Red tabasco pepper","Rice","Rocoto pepper","Romaine","Rosemary","Runner bean","Russet potato","Rutabaga","Rye","Sage","Salsify","Santa fe grande pepper","Savoy cabbage","Shallot","Shiitake","Shishito pepper","Siling labuyo pepper","Snap pea","Sorghum millet","Soy bean","Spaghetti squash","Spinach","Spring onion","St johns wort","Stevia","Strawberry","Striped cavern tomato","Sugar cane","Sunflower","Sunray tomato","Sweet italian pepper","Sweet potato","Swiss chard","Taro","Thyme","Tomatillo","Tomato","Trinidad moruga scorpion pepper","Trinidad scorpion butch t pepper","Trumpet","Tulsi","Turmeric","Turnip","Watercress","Watermelon","Watermelon radish","Wax bean","Wheat","White button","White carrot","White onion","White oyster","Wormwood","Yellow bell pepper","Yellow carrot","Yellow cauliflower","Yellow onion","Yellow oyster","Yellow scotch bonnet","Yellow squash","Youkon gold potato","Zucchini"],M=t(44),T=t(46),A=t(1),F=function(e){var a=Object(D.useLiveQuery)((function(){return e.db.preferences.get(0).then((function(e){return e.locale}))})),t=Object(D.useLiveQuery)((function(){return e.db.items.toCollection().sortBy("expirationDate")||[]})),r=Object(n.useState)(L),o=Object(s.a)(r,2),i=o[0],p=o[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),b=d[0],m=d[1],h=Object(n.useState)(B.DateTime.now().plus({days:3}).toJSDate()),g=Object(s.a)(h,2),j=g[0],v=g[1],x=Object(n.useState)((function(){return Object(k.scale)(["#f00","#0f0"])})),w=Object(s.a)(x,1)[0],O=Object(n.useState)(new T.a(L,{includeScore:!1})),S=Object(s.a)(O,1)[0],C=Object(N.a)().t;if(Object(n.useEffect)((function(){Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a){t.next=4;break}return t.next=3,y(a,e.db);case 3:v((function(e){return new Date(e)}));case 4:case"end":return t.stop()}}),t)})))()}),[a,e.db]),void 0===a)return Object(A.jsx)(A.Fragment,{});function F(e){return B.DateTime.fromJSDate(e).diffNow("days").days/10}function W(e){return 100*Math.max(Math.min(F(e),1),.285)}function q(e){var a=S.search(e),t=a.length>0?a[0].item.replaceAll(" ","-").toLowerCase():"acorn-squash";return"".concat("/0waste","/open-crop-icons/icons/").concat(t,"/").concat(t,".svg")}return Object(A.jsxs)("div",{className:"root p-d-flex p-flex-column p-p-2",children:[Object(A.jsx)(R.SelectButton,{style:{flexShrink:0},className:"p-mb-2 p-d-flex p-jc-end",value:a,options:f.map((function(e){return{name:e.toUpperCase(),value:e}})),optionLabel:"name",onChange:function(a){return a.value&&e.db.preferences.update(0,{locale:a.value})}}),Object(A.jsx)("div",{className:"p-mb-2 items p-d-flex p-flex-column",children:null===t||void 0===t?void 0:t.map((function(t,n){return Object(A.jsxs)("div",{className:"item p-p-2 p-d-flex p-ai-center",children:[Object(A.jsx)("img",{className:"p-mr-2",height:40,width:40,src:q(t.name),alt:""}),Object(A.jsxs)("div",{className:"p-d-flex p-flex-column p-flex-grow",children:[Object(A.jsx)("div",{className:"riskbar p-flex-grow",style:{backgroundColor:(r=t.expirationDate,w(Math.max(F(r),0))).hex(),width:W(t.expirationDate)+"%"},children:Object(A.jsx)("span",{className:"days-left",style:{top:"ja"===a?-2:1},children:B.DateTime.fromJSDate(t.expirationDate).toRelative({locale:a})||"?"})}),Object(A.jsx)("span",{className:"p-mt-1 name",children:t.name})]}),Object(A.jsx)(P.Button,{icon:"pi pi-times",className:"p-button-rounded p-button-danger p-button-outlined",onClick:function(){return a=t,void e.db.items.delete(a.id);var a}})]},n);var r}))}),Object(A.jsxs)("form",{onSubmit:function(a){return function(a){a.preventDefault(),e.db.items.add({name:b,expirationDate:j}),m("")}(a)},className:"footer p-d-flex",style:{flexShrink:0},children:[Object(A.jsx)(M.AutoComplete,{autoHighlight:!0,autoFocus:!0,suggestions:i,completeMethod:function(e){p(S.search(e.query,{limit:5}).map((function(e){return e.item})))},delay:0,className:"p-flex-grow p-mr-2",value:b,placeholder:C("Item"),onChange:function(e){return m(e.value)}}),Object(A.jsx)(G.Calendar,{className:"p-flex-grow p-mr-2",touchUI:!0,value:j,onChange:function(e){return v(e.value)}}),Object(A.jsx)(P.Button,{type:"submit",label:"Add",disabled:""===b})]})]})},W=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),i=Object(s.a)(o,2),p=i[0],u=i[1];return Object(n.useEffect)((function(){Object(l.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:a=e.sent,u(a),r(C(a));case 5:case"end":return e.stop()}}),e)})))()}),[]),void 0===t||void 0===p?Object(A.jsx)(A.Fragment,{}):Object(A.jsx)(F,{db:t,initialPreferredLocale:p})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,79)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,o=a.getLCP,i=a.getTTFB;t(e),n(e),r(e),o(e),i(e)}))};h.a.ripple=!0,i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),q()}},[[77,1,2]]]);
//# sourceMappingURL=main.8c27e318.chunk.js.map